<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homelab Project: Proxmox Node Part 1 - Matthew McGovern</title>
    <link rel="icon" type="image/png" href="/assets/images/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
    <header class="site-header">
        <nav class="nav-container">
            <a href="/" class="logo">Matthew McGovern</a>
            <button class="mobile-menu-toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/#about">About</a></li>
                <li><a href="/#interests">Interests</a></li>
                <li><a href="/blog/">Posts</a></li>
                <li><a href="/resume/">Resume</a></li>
            </ul>
        </nav>
    </header>

    <main class="post-content">
        <article>
            <header class="post-header">
                <h1>Homelab Project: Proxmox Node Part 1</h1>
                <div class="post-meta">
                    <span class="post-date">August 15, 2023</span>
                    <span class="post-author">Matthew McGovern</span>
                </div>
            </header>

            <div class="post-body">
                <p>In this post I will document adding a Dell Optiplex 7080 Micro node to my existing Proxmox cluster. The plan is to have a few separate networks, defined on each host and using unmanaged switches for those networks: one dedicated 1GB for the corosync process for clustering the nodes which requires low latency, one for 2.5GB for migration of VM's on the clusters which requires more bandwidth for faster transfers. Another will be connected to the gateway. The NAS can be connected on a 10GB port of the switch sometime in the future.</p>

                <p>This is a bit of an experiment and admitted janky setup using multiple USB to 2.5GBE and 1GBE ethernet cables for the extra NICs on the nodes.</p>

                <p>Resources:</p>
                <ul>
                    <li><a href="https://www.dell.com/support/manuals/en-us/optiplex-7080-micro/optiplex7080_micro_specs/dimensions-and-weight" target="_blank">Information on 7080 micro</a></li>
                    <li><a href="https://www.qnap.com/en-au/product/qsw-2104-2t" target="_blank">Qnap 2104-2T</a> for the 2.5GBE connection</li>
                    <li><a href="https://www.tp-link.com/au/business-networking/unmanaged-switch/tl-sg105/" target="_blank">TP-LINK-TL_SG105 V6</a> for the 1GBE corosync connection</li>
                </ul>

                <h2>Hardware</h2>
                <p>I already have one proxmox node setup on a Optiplex 3070. This is low power, has barely any moving parts (good for long time usage) and is cheapish, quiet and does not take up much room. One other thing that is good about these mini computers is that the hardware is easy to upgrade.</p>

                <p>The small black fan pops right out and the RAM can be added. The blue drive caddy is also very easy to remove, and reveals a nvme drive underneath as well as housing the 2.5 SSD.</p>

                <p>For this node I added some extra storage and resources:</p>
                <ul>
                    <li>64GB of SODIMM RAM</li>
                    <li>4TB nvme drive</li>
                    <li>4TB 2.5 SSD</li>
                    <li>m.2 256GB drive for Proxmox OS</li>
                </ul>

                <p>There is now 2x 4TB drives which will be use local storage for the VM HDDs, and 64GB of RAM for multiple VM's. At some stage I can setup a number of k8 nodes in the future.</p>

                <p>Now the hardware of this node is sorted, its time to install the hypervisor. My current node has proxmox 7.4 so I have put this ISO on a USB and will install it onto the machine in part 2.</p>

                <h2>Hardware Used</h2>
                <ul>
                    <li>Optiplex 7080
                        <ul>
                            <li>64GB RAM</li>
                            <li>4TB SSD</li>
                            <li>4TB NVME</li>
                            <li>2.5GB to USB NIC</li>
                            <li>1GBE to USB NIC</li>
                        </ul>
                    </li>
                    <li>USB to 2.5GB x 2</li>
                    <li>USB to 1GB x 2</li>
                    <li>QNAP 2.5GB Switch with 2 x 10GB</li>
                    <li>4 Port 1GB switch</li>
                    <li>1 x 4TB External USB</li>
                    <li>1 x 6TB External USB</li>
                    <li>1 x Synology NAS</li>
                </ul>
            </div>

            <nav class="post-navigation">
                <a href="/posts/strace/" class="prev-post">← Previous: Strace</a>
                <a href="/posts/homelab-project-proxmox-node-part-2/" class="next-post">Next: Homelab Project: Proxmox Node Part 2 →</a>
            </nav>
        </article>
    </main>

    <footer class="site-footer">
        <div class="footer-content">
            <p>&copy; 2024 Matthew McGovern. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="/assets/js/main.js"></script>
</body>
</html>

