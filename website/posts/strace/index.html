<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Strace - Matthew McGovern</title>
  <meta name="description" content="Using strace to trace and debug system calls.">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Roboto:wght@400;500&family=Roboto+Mono&display=swap" rel="stylesheet">
  
  <!-- Styles -->
  <link rel="stylesheet" href="/assets/css/style.css">
  
  <!-- Syntax Highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
  
  <!-- Favicon -->
  <link rel="icon" href="/assets/images/favicon.png" sizes="32x32">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="header__inner">
        <div class="header__logo">
          <a href="/">
            <img src="/assets/images/logo.png" alt="Matthew McGovern">
          </a>
          <span class="header__title"><a href="/">MATTHEW MCGOVERN</a></span>
        </div>
        
        <nav class="nav">
          <button class="nav-toggle" aria-label="Toggle navigation">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 12h18M3 6h18M3 18h18"/>
            </svg>
          </button>
          
          <ul class="nav__list">
            <li><a href="/" class="nav__link">Home</a></li>
            <li><a href="/#about" class="nav__link">About</a></li>
            <li><a href="/#interests" class="nav__link">Interests</a></li>
            <li><a href="/resume/" class="nav__link">Resume</a></li>
            <li><a href="/blog/" class="nav__link nav__link--active">Posts</a></li>
          </ul>
          
          <div class="social-links">
            <a href="mailto:matt@matthewmcgovern.com" title="Email"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg></a>
            <a href="https://github.com/matthern" target="_blank" rel="noopener" title="GitHub"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"/></svg></a>
          </div>
        </nav>
      </div>
    </div>
  </header>

  <!-- Post Header -->
  <section class="post-header">
    <div class="container container--narrow">
      <h1 class="post-header__title">Strace</h1>
      <p class="post-header__excerpt">Using strace to trace and debug system calls.</p>
      <p class="post-header__meta">
        <span>Matthew McGovern</span> · <span>July 22, 2023</span>
      </p>
    </div>
  </section>

  <!-- Post Content -->
  <article class="post-content">
    <div class="container container--narrow">
      
      <p><code>strace</code> is a powerful command-line tool used to trace and debug system calls and signals made by a running process. It allows you to observe and analyze the interactions between a process and the operating system, providing insights into its behavior and troubleshooting potential issues.</p>

      <h2>Find the Process ID</h2>
      <pre><code class="language-bash">ps -ef | grep scriptname</code></pre>
      <p>This will display a list of processes that match the name of the script. Identify the correct process and note its PID.</p>

      <h2>Attach strace to the Running Script</h2>
      <p>Once you have the PID, you can attach <code>strace</code> to the running script using the <code>-p</code> option:</p>
      <pre><code class="language-bash">strace -p &lt;pid&gt;</code></pre>
      <p>This will start tracing system calls and signals made by the running script.</p>

      <h2>Observe the strace Output</h2>
      <p><code>strace</code> will start printing the system calls and signals made by the script in real-time. It provides detailed information, including the call type, arguments, return values, and any errors encountered. This output can help you understand the behavior of the script and identify any issues or unexpected behavior.</p>

      <h2>Analyze the strace Output</h2>
      <p>Analyze the output of <code>strace</code> to gain insights into the script's behavior. Look for any errors or unusual system calls that might indicate problems. Pay attention to specific system calls like <code>open</code>, <code>read</code>, <code>write</code>, <code>fork</code>, <code>exec</code>, and others, depending on the script's functionality. The output can help you diagnose issues, identify performance bottlenecks, or trace the flow of execution within the script.</p>

      <h2>Detach strace</h2>
      <p>To detach <code>strace</code> from the script, use the keyboard shortcut <code>Ctrl + C</code>. This will stop tracing the script's system calls and signals.</p>

      <h2>Save Output to File</h2>
      <pre><code class="language-bash">strace -p &lt;pid&gt; -o strace_output.txt</code></pre>

      <!-- Post Navigation -->
      <nav class="post-nav">
        <a href="/posts/find-out-what-is-being-used-in-swap/" class="post-nav__link">
          <span class="post-nav__label">← Previous</span>
          <span class="post-nav__title">Find Out What Is Being Used In Swap</span>
        </a>
        <a href="/posts/homelab-project-proxmox-node-part-1/" class="post-nav__link post-nav__link--next">
          <span class="post-nav__label">Next →</span>
          <span class="post-nav__title">Homelab Project: Proxmox Node Part 1</span>
        </a>
      </nav>
      
    </div>
  </article>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer__inner">
        <nav class="footer__nav">
          <a href="/">Home</a>
          <a href="/#about">About</a>
          <a href="/#interests">Interests</a>
          <a href="/resume/">Resume</a>
          <a href="/blog/">Posts</a>
        </nav>
        <p class="footer__copyright">&copy; 2024 Matthew McGovern. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script src="/assets/js/main.js"></script>
</body>
</html>
